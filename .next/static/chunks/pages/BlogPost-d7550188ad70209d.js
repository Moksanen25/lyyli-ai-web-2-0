(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3631],{32610:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/BlogPost",function(){return t(45556)}])},45556:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return M}});var s=t(85893),n=t(67294),a=t(39332),o=t(59679),i=t(86431),r=t(50284),c=t(14866),d=t(54818),u=t(41664),m=t.n(u),g=t(21427),f=t(15579),x=t(49726),h=t(21768),p=t(94526),b=e=>{let{post:l,children:t}=e,{language:a}=(0,x.f)();(0,n.useEffect)(()=>{if("fi"===a){let t="".concat(l.slug,"-").concat(a);if(console.log("Looking for translation with key:",t),console.log("Translation available:",!!p.WK[t]),"3"===l.id){var e;console.log("Nonprofit post translation check:",{id:l.id,slug:l.slug,title:l.title,hasTranslation:!!p.WK[t],translationTitle:(null===(e=p.WK[t])||void 0===e?void 0:e.title)||"No translation"})}}},[l.id,l.slug,a]);let o=n.useMemo(()=>{if("fi"===a){let e="".concat(l.slug,"-").concat(a);return p.WK[e]||null}return null},[l.slug,a]),i=n.useMemo(()=>"fi"===a&&o?n.Children.map(t,e=>{var l;return n.isValidElement(e)?"h1"===e.type&&o.title?n.cloneElement(e,{},o.title):(null===(l=e.props)||void 0===l?void 0:l.dangerouslySetInnerHTML)&&o.content?n.cloneElement(e,{dangerouslySetInnerHTML:{__html:o.content}}):e:e}):t,[t,a,o]);return(0,s.jsx)("div",{className:o?"translated-content":"original-content",children:i})},j=t(43604),N=e=>{let l,{post:t}=e,{language:a}=(0,x.f)(),{safeT:o}=(0,h.b)(),i=new Date(t.publishDate),r="".concat(t.slug,"-").concat(a),u="fi"===a?p.WK[r]:null,N=(null==u?void 0:u.title)||t.title,v=(null==u?void 0:u.content)||t.content;return(0,n.useEffect)(()=>{console.log("BlogContent: Mounted/updated with:",{postId:t.id,postTitle:t.title,postLanguage:t.language||"default",currentLanguage:a,hasTranslation:!!u,isFinnishMode:"fi"===a})},[t.id,t.title,t.language,a,u]),(0,s.jsxs)("article",{className:"max-w-3xl mx-auto",children:[(0,s.jsxs)(m(),{href:"fi"===a?"/fi/full/blog":"/full/blog",className:"text-muted-foreground hover:text-primary inline-flex items-center mb-6",children:[(0,s.jsx)(g.Z,{className:"h-4 w-4 mr-1"})," ",o("blog.backToBlog")]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:t.tags.map((e,l)=>{let t=e.toLowerCase().replace(/\s+/g,""),n=o("blog.tags.".concat(t),{fallback:e});return(0,s.jsx)(c.C,{variant:"outline",children:n},"".concat(e,"-").concat(l,"-").concat(a))})}),(0,s.jsxs)(b,{post:t,children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:N}),(0,s.jsxs)("div",{className:"flex items-center mb-8",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center text-sm font-semibold mr-3",children:t.author.name.charAt(0)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:t.author.name}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[t.author.title," • ",o("blog.publishedOn")," ",(0,d.WU)(i,"MMMM d, yyyy")," • ",t.readTime," ",o("blog.minuteRead")]})]})]}),(0,s.jsx)("div",{className:"rounded-lg h-auto overflow-hidden mb-8",children:(l=t.featuredImage)&&l.startsWith("http")&&!l.includes("placeholder")&&!l.includes("example.com")?(0,s.jsx)(j.J,{src:t.featuredImage,alt:N,className:"w-full h-64 md:h-80 object-cover",fallbackSrc:"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2072&q=80"}):(0,s.jsx)("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 h-64 md:h-80 flex items-center justify-center border border-primary/20 rounded-lg",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(f.Z,{className:"h-16 w-16 text-primary/40 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-primary/60 font-medium",children:N})]})})}),(0,s.jsx)("div",{className:"prose prose-lg max-w-none mb-10 blog-content",dangerouslySetInnerHTML:{__html:v}})]}),(0,s.jsxs)("div",{className:"border-t border-b py-6 my-10",children:[(0,s.jsx)("p",{className:"font-medium mb-3",children:o("blog.sharePost")}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center cursor-pointer hover:bg-blue-200",children:(0,s.jsx)("span",{className:"text-blue-700",children:"F"})}),(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center cursor-pointer hover:bg-blue-200",children:(0,s.jsx)("span",{className:"text-blue-700",children:"T"})}),(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center cursor-pointer hover:bg-blue-200",children:(0,s.jsx)("span",{className:"text-blue-700",children:"L"})})]})]}),(0,s.jsxs)("div",{className:"bg-secondary/10 p-6 rounded-lg mb-10",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center text-lg font-semibold mr-4",children:t.author.name.charAt(0)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold text-lg",children:t.author.name}),(0,s.jsx)("p",{className:"text-muted-foreground",children:t.author.title})]})]}),(0,s.jsx)("p",{className:"text-muted-foreground",children:o("blog.authorBio")})]})]})},v=t(73062),w=e=>{let{currentPost:l,posts:t}=e,{t:n}=(0,x.f)(),a=t.filter(e=>e.id!==l.id&&e.tags.some(e=>l.tags.includes(e))).slice(0,3);return 0===a.length?null:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto my-16",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6",children:n("blog.relatedPosts")}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(e=>(0,s.jsx)(v.Z,{post:e},e.id))})]})},y=t(95025),_=t(18670),M=()=>{let e=(0,a.useParams)(),l=null==e?void 0:e.slug,t=(0,a.useRouter)(),{language:c}=(0,x.f)(),{safeT:d}=(0,h.b)(),[u,m]=(0,n.useState)(null),[g,f]=(0,n.useState)(!0),p=()=>"fi"===c?"/fi/full/blog":"/full/blog";return((0,n.useEffect)(()=>{if(console.log("BlogPost: Finding post for language:",c,"and slug:",l),f(!0),!l){console.warn("No slug provided"),t.replace(p());return}let e=(()=>{let e=r.n.filter(e=>e.slug===l);if(0===e.length)return console.warn("No posts found with slug:",l),(0,_.A)({title:d("blog.postNotFound"),description:d("blog.redirecting"),variant:"destructive"}),t.replace(p()),null;if(console.log("Found ".concat(e.length," posts with slug ").concat(l,":"),e.map(e=>"".concat(e.id," (").concat(e.language||"default",")"))),"fi"===c){let l=e.find(e=>"fi"===e.language);return l?(console.log("Found Finnish post:",l.id),l):(console.log("No Finnish post found, using first available post"),e[0])}{let l=e.find(e=>!e.language||"en"===e.language);return l?(console.log("Found English post:",l.id),l):(console.log("No English post found, using first available post"),e[0])}})();m(e),f(!1),e||t.replace(p())},[l,c,t,p,d]),g)?(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,s.jsx)(o.Z,{}),(0,s.jsx)("main",{className:"flex-grow container mx-auto px-4 pt-28",children:(0,s.jsx)("p",{children:d("blog.loading")})}),(0,s.jsx)(i.Z,{})]}):u?(console.log("BlogPost: Rendering post:",u.id,"title:",u.title,"language:",u.language||"default"),(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,s.jsx)(o.Z,{}),(0,s.jsx)("main",{className:"flex-grow",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 pt-28 pb-16",children:[(0,s.jsx)(N,{post:u},"post-".concat(u.id,"-").concat(c)),(0,s.jsx)(w,{currentPost:u,posts:r.n}),(0,s.jsx)(y.Z,{})]})}),(0,s.jsx)(i.Z,{})]})):null}}},function(e){e.O(0,[3278,5469,8477,3727,810,5548,5519,4425,2888,9774,179],function(){return e(e.s=32610)}),_N_E=e.O()}]);